# quiz game

Два бота (Telegram и VK) с идентичной логикой, которые задают случайные вопросы из базы данных и проверяют ответы пользователей.

Примеры готовых ботов: 
`@quiz_gme_bot` - tg bot
`https://vk.com/club232796651` - Вк сообщество с ботом

## Зависимости

- Python3 должен быть уже установлен
- Затем используйте `pip` для установки зависимостей:

```bash
pip install -r requirements.txt
```

## Переменные окружения

Расположите файл .env в корневой папке репозитория рядом с файлами main.py и vk_handler.py

`.env` должен содержать токены доступа для ботов:

Пример содержимого .env:

```
TG_BOT_TOKEN=ваш_токен_telegram_бота
VK_BOT_TOKEN=ваш_токен_vk_бота
REDIS_HOST=localhost -- Необязательный, значение по умолчанию `localhost`
REDIS_PORT=6379 -- Необязательный, значение по умолчанию `6379`
REDIS_DB=0 -- Необязательный, значение по умолчанию `0`
```

### Получение токенов

#### Telegram бот:

Напишите @BotFather в Telegram

Используйте команду /newbot чтобы создать нового бота

Скопируйте полученный токен

#### VK бот:

Создайте сообщество в VK

Перейдите в "Управление" → "Настройки" → "Работа с API"

Создайте ключ доступа с правами: сообщения

Скопируйте полученный токен

## Запуск

Предварительные требования

Убедитесь, что Redis сервер запущен на `localhost:6379`

Файл с вопросами `questions.json` должен находиться в корневой папке

#### Telegram бот
Запустите бота следующей командой:

```
python tg_handler.py
```

После запуска бот начнет отвечать на команды в Telegram.

#### VK бот
Запустите бота следующей командой:

```
python vk_handler.py
```

После запуска бот начнет отвечать на сообщения в VK.


## Использование

Оба бота работают по одинаковой логике:

Начало работы - отправьте команду /start в Telegram или любое сообщение в VK

Новый вопрос - нажмите кнопку "Новый вопрос" для получения случайного вопроса

Ответ - введите ваш ответ текстом

Сдача - если не знаете ответ, нажмите "Сдаться" чтобы увидеть правильный ответ

Статистика - нажмите "Мой счет" чтобы увидеть количество правильных ответов

## Формат вопросов

Вопросы хранятся в файле questions.json в формате:

```json
[
  {
    "question": "Текст вопроса?",
    "answer": "Правильный ответ"
  }
]
```
Файл должен быть в кодировке KOI8-R для корректного отображения специальных символов.
